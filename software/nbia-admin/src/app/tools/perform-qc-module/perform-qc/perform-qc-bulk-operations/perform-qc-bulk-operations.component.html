<!------------------------------------------------------------------------------------------>
<!------------             New Status for Perform Quality Control                  --------->
<!------------------------------------------------------------------------------------------>
<!------------       @TODO This is very similar to QcStatusEditComponent           --------->
<!-- ---------             "Perform Quality Control" cine mode.                    --------->
<!-- ---------             Can these be combined into one component?               --------->
<!------------------------------------------------------------------------------------------>

<div
    class="qc-bulk-outer-div"
    [ngClass]="{
        'font-extra-small': currentFont === '0',
        'font-small': currentFont === '1',
        'font-medium': currentFont === '2',
        'font-large': currentFont === '3'
    }"
>
    <div
        class="qc-bulk-heading"
        [ngClass]="{
            'font-extra-small': currentFont === '0',
            'font-small': currentFont === '1',
            'font-medium': currentFont === '2',
            'font-large': currentFont === '3'
        }"
    >
        <span
            [ngClass]="{
                'heading-font-extra-small': currentFont === '0',
                'heading-font-small': currentFont === '1',
                'heading-font-medium': currentFont === '2',
                'heading-font-large': currentFont === '3'
            }"
        >New Status</span
        >
    </div>
    <div class="bulk-qc-status-table-frame">
        <div class="container-fluid">
            <div class="row">
                <div
                    *ngFor="let criteria of qcStatuses; let n = index"
                    class="qc-bulk-radios"
                >
                    <input
                        class="clicker"
                        type="radio"
                        id="radio-qc-bulk-status{{ n }}"
                        name="qcBulkRadio"
                        (click)="onQcBulkStatusClick(n)"
                    />
                    <label
                        [attr.for]="'radio-qc-bulk-status' + n"
                        class="qc-bulk-radio-label clicker"
                    >
                        {{ criteria }}
                    </label>
                </div>
            </div>
        </div>
    </div>

    <div class="bulk-qc-status-table-frame">
        <div class="container-fluid">
            <div class="row">
                <!-- ----- Batch number  ----- -->
                <div class="qc-bulk-radios mr-1">
                    <input
                        type="checkbox"
                        class="clicker"
                        id="qc-bulk-batch-checkbox"
                        [(ngModel)]="useBatchNumber"
                    />
                    <label
                        class="qc-bulk-radio-label clicker"
                        for="qc-bulk-batch-checkbox"
                    >
                        Batch Number
                    </label>
                    <input
                        type="number"
                        class="qc-bulk-batch-number-spinner"
                        min="1"
                        [ngClass]="{
                            'disabled-spinner': !useBatchNumber
                        }"
                        [disabled]="!useBatchNumber"
                        [(ngModel)]="batchNumber"
                    />
                </div>
                <!-- ----- Confirmed as Complete  ----- -->
                <div class="qc-bulk-complete-radios mr-1">
                    Confirmed as Complete<br/>
                    <input
                        type="radio"
                        class="clicker"
                        id="radio-qc-bulk-complete-yes"
                        name="qcBulkRadioComplete"
                        (click)="onQcBulkStatusCompleteClick(YES)"
                    />
                    <label
                        [attr.for]="'radio-qc-bulk-complete-yes'"
                        class="qc-bulk-radio-label clicker"
                    >
                        Yes
                    </label>
                    &nbsp;&nbsp;
                    <input
                        type="radio"
                        class="clicker"
                        id="radio-qc-bulk-complete-no"
                        name="qcBulkRadioComplete"
                        (click)="onQcBulkStatusCompleteClick(NO)"
                    />
                    <label
                        [attr.for]="'radio-qc-bulk-complete-no'"
                        class="qc-bulk-radio-label clicker"
                    >
                        No
                    </label>
                    &nbsp;&nbsp;
                    <input
                        type="radio"
                        class="clicker"
                        id="radio-qc-bulk-complete-no-change"
                        name="qcBulkRadioComplete"
                        [checked]="true"
                        (click)="onQcBulkStatusCompleteClick(NO_CHANGE)"
                    />
                    <label
                        [attr.for]="'radio-qc-bulk-complete-no-change'"
                        class="qc-bulk-radio-label clicker"
                    >
                        No Change
                    </label>
                </div>


                <!-- ----- Released  ----- -->
                <div class="qc-bulk-complete-radios">
                    Released<br/>
                    <input
                        type="radio"
                        class="clicker"
                        id="radio-qc-bulk-released-yes"
                        name="qcBulkRadioReleased"
                        (click)="onQcBulkStatusReleasedClick(YES)"
                    />
                    <label
                        [attr.for]="'radio-qc-bulk-released-yes'"
                        class="qc-bulk-radio-label clicker"
                    >
                        Yes
                    </label>
                    &nbsp;&nbsp;
                    <input
                        type="radio"
                        class="clicker"
                        id="radio-qc-bulk-released-no"
                        name="qcBulkRadioReleased"
                        (click)="onQcBulkStatusReleasedClick(NO)"
                    />
                    <label
                        [attr.for]="'radio-qc-bulk-released-no'"
                        class="qc-bulk-radio-label clicker"
                    >
                        No
                    </label>
                    &nbsp;&nbsp;
                    <input
                        type="radio"
                        class="clicker"
                        id="radio-qc-bulk-released-no-change"
                        name="qcBulkRadioReleased"
                        [checked]="true"
                        (click)="onQcBulkStatusReleasedClick(NO_CHANGE)"
                    />
                    <label
                        [attr.for]="'radio-qc-bulk-released-no-change'"
                        class="qc-bulk-radio-label clicker"
                    >
                        No Change
                    </label>
                </div>
                <!-- ----- END Released  ----- -->

                <span class="qc-bulk-complete-radios ml-1" style="display: inline-block;">
 <!--
                   <input
                        class="mt-3" type="checkbox" id="updateSiteCheckbox"
                        [(ngModel)]="showUpdateCollectionSite"
                    >
                    <label
                        class="ml-1"
                        for="updateSiteCheckbox"
                    >Update Site</label>

                    <span *ngIf="showUpdateCollectionSite">
                        <select class="custom-select">
                            <option selected value="1">Site One</option>
                            <option value="2">Site Two</option>
                            <option value="3">Site Three</option>
                            <option value="4">Site Four</option>
                            <option value="5">Site Five</option>
                        </select>
                    </span>

-->


                </span>

            </div>
        </div>

        <table width="100%">
            <tr>
                <td>
                    <textarea
                        class="log-text"
                        [(ngModel)]="logText"
                        placeholder="Enter change log here..."
                    ></textarea>
                </td>
            </tr>
            <tr>
                <td colspan="2">
                    <div
                        [ngClass]="{
                            'font-extra-small': currentFont === '0',
                            'font-small': currentFont === '1',
                            'font-medium': currentFont === '2',
                            'font-large': currentFont === '3'
                        }"
                    >
                        <button
                            class="btn nbia-button qc-bulk-update-button"
                            [ngClass]="{
                                'nbia-button-disabled':
                                    visible < 0 ||
                                    searchResultsSelectedCount < 1,
                                'font-extra-small': currentFont === '0',
                                'font-small': currentFont === '1',
                                'font-medium': currentFont === '2',
                                'font-large': currentFont === '3'
                            }"
                            [disabled]="
                                ( visible < 0 && (! useBatchNumber ) && logText.length < 1  && ( isReleased === NO_CHANGE)   && ( isComplete === NO_CHANGE) )  || searchResultsSelectedCount < 1
                            "
                            type="button"
                            (click)="onQcBulkUpdateClick()"
                        >
                            Update
                        </button>
                        <button
                            class="btn nbia-button qc-bulk-update-button"
                            [ngClass]="{
                                'nbia-button-disabled':
                                    searchResultsSelectedCount < 1,
                                'font-extra-small': currentFont === '0',
                                'font-small': currentFont === '1',
                                'font-medium': currentFont === '2',
                                'font-large': currentFont === '3'
                            }"
                            [disabled]="searchResultsSelectedCount < 1"
                            type="button"
                            (click)="onQcStatusHistoryReportClick()"
                        >
                            QC Status History Report
                        </button>
                        <button
                            class="btn nbia-button qc-bulk-update-button"
                            [ngClass]="{
                                'nbia-button-disabled':
                                    searchResultsSelectedCount < 1,
                                'font-extra-small': currentFont === '0',
                                'font-small': currentFont === '1',
                                'font-medium': currentFont === '2',
                                'font-large': currentFont === '3'
                            }"
                            [disabled]="searchResultsSelectedCount < 1"
                            type="button"
                            (click)="onDownloadClick()"
                        >
                            Download
                        </button>
                    </div>
                </td>
            </tr>
        </table>
    </div>
</div>
