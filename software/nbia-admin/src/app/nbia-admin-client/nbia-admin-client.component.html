<nbia-login
    [ngClass]=" {
        'hide': loginMode === tokenStatus.GOOD_TOKEN
    }"
></nbia-login>

<!-- The wait, we are busy screen -->
<nbia-loading-display></nbia-loading-display>

<!-- We have an access token from the calling site.   -->
<div *ngIf="accessTokenStatus  === tokenStatus.GOOD_TOKEN"
     class="parent-tool-div"
>

    <span *ngIf="currentTool !== consts.TOOL_NONE">
        <nbia-tool-title
            [currentTool]="currentTool"
        ></nbia-tool-title>

        <nbia-approve-deletions
            *ngIf="currentTool === consts.TOOL_APPROVE_DELETIONS">
        </nbia-approve-deletions>

        <nbia-edit-collection-descriptions
            *ngIf="currentTool === consts.TOOL_EDIT_COLLECTION_DESCRIPTIONS">
        </nbia-edit-collection-descriptions>

        <nbia-perform-qc
            *ngIf="currentTool === consts.TOOL_PERFORM_QC">
        </nbia-perform-qc>

<!--
        <nbia-view-submission-reports
            *ngIf="currentTool === consts.TOOL_VIEW_SUBMISSION_REPORTS">
        </nbia-view-submission-reports>
-->

        <nbia-perform-online-deletion
            *ngIf="currentTool === consts.TOOL_PERFORM_ONLINE_DELETION">
        </nbia-perform-online-deletion>

    </span>
</div>

<!-- ------------------------------------------------------------------------------------------------------------------  -->
<!--  Menu of tools available for the current users role(s), only displayed if no tool was included as a url parameter.  -->
<div
    *ngIf="( currentTool === consts.TOOL_NONE ) && ( accessTokenStatus  === tokenStatus.GOOD_TOKEN )"
    class="container-fluid option-list">

    <span class="row label label-primary admin-tool-button nbia-button col-md-12"
        [ngClass]="{
            'disabled-tool nbia-button-disabled': ! showDataAdminPerformQcButton
        }"
          (click)="onToolItemClicked(toolItems.DATA_ADMIN_PERFORM_QC_MENU_ITEM, showDataAdminPerformQcButton)"
    >
        Perform Quality Control
        <p class="required-role"
           *ngIf="! showDataAdminPerformQcButton">(Required role: NCIA.MANAGE_VISIBILITY_STATUS)
        </p>

    </span>
    <span class="row label label-primary admin-tool-button nbia-button col-md-12"
        [ngClass]="{
            'disabled-tool nbia-button-disabled': ! showDataAdminApproveDeletions
        }"
        (click)="onToolItemClicked(toolItems.DATA_ADMIN_APPROVE_DELETIONS_MENU_ITEM, showDataAdminApproveDeletions)"
    >
        Approve Deletions
        <p class="required-role" *ngIf="! showDataAdminApproveDeletions">(Required role: NCIA.SUPER_CURATOR)</p>
    </span>
<!--

    <span class="row label label-primary admin-tool-button nbia-button col-md-12"
        [ngClass]="{
            'disabled-tool nbia-button-disabled': ! showDataAdminViewSubmissionReports
        }"
        (click)="onToolItemClicked(toolItems.DATA_ADMIN_VIEW_SUBMISSION_REPORTS_MENU_ITEM, showDataAdminViewSubmissionReports)"
    >
        View Submission Reports
        <p class="required-role" *ngIf="! showDataAdminViewSubmissionReports">(Required role: NCIA.VIEW_SUBMISSION_REPORT)</p>
    </span>

-->
    <span class="row label label-primary admin-tool-button nbia-button col-md-12"
        [ngClass]="{
            'disabled-tool nbia-button-disabled': ! showPerformOnlineDeletions
        }"
        (click)="onToolItemClicked(toolItems.DATA_ADMIN_PERFORM_ONLINE_DELETION_MENU_ITEM, showPerformOnlineDeletions)"
    >
        Perform Online Deletions
        <p class="required-role" *ngIf="! showPerformOnlineDeletions">(Required role: NCIA.DELETE_ADMIN)</p>
    </span>

    <span class="row label label-primary admin-tool-button nbia-button col-md-12"
        [ngClass]="{
            'disabled-tool nbia-button-disabled': ! showEditCollectionDescriptions
        }"
        (click)="onToolItemClicked(toolItems.DATA_ADMIN_EDIT_COLLECTION_DESCRIPTIONS_MENU_ITEM, showEditCollectionDescriptions)"
    >
        Edit Collection Descriptions
        <p class="required-role" *ngIf="! showEditCollectionDescriptions">(Required role: MANAGE_COLLECTION_DESCRIPTION)</p>
    </span>

 </div>


<!--
<nbia-cine-mode-window class="hide"></nbia-cine-mode-window>
-->


<nbia-cine-mode
    [currentTool]="currentTool"
></nbia-cine-mode>
